<!doctype html>
<html lang="en">

<head>
    <title>模板方法模式</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <!-- Javascript -->
    <script type="text/javascript" src="../../assets/vendor/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/bootstrap/js/bootstrap-paginator.js"></script>
    <script type="text/javascript" src="../../assets/vendor/bootstrap-select/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/jquery-slimscroll/jquery.slimscroll.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/echarts/echarts.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/echarts/theme/macarons.js"></script>
    <script type="text/javascript" src="../../assets/vendor/layer/layer.js"></script>
    <script type="text/javascript" src="../../assets/vendor/laydate/laydate.js"></script>
    <script type="text/javascript" src="../../assets/vendor/blowup/blowup.js"></script>
    <script type="text/javascript" src="../../assets/scripts/klorofil-common.js"></script>
    <script type="text/javascript" src="../../assets/vendor/ui-choose/js/ui-choose.js"></script>
    <script type="text/javascript" src="../../assets/vendor/highlight/highlight.pack.js"></script>
    <!-- VENDOR CSS -->
    <link rel="stylesheet" href="../../assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assets/vendor/bootstrap-select/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="../../assets/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../assets/vendor/linearicons/style.css">
    <link rel="stylesheet" href="../../assets/vendor/ui-choose/css/ui-choose.css">
    <link rel="stylesheet" href="../../assets/vendor/highlight/styles/solarized-light.css">
    <!-- MAIN CSS -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!-- CUSTOMIZE CSS -->
    <link rel="stylesheet" href="../../assets/css/roundButton.css">
    <!-- FOR DEMO PURPOSES ONLY. You should remove this in your project -->
    <link rel="stylesheet" href="../../assets/css/demo.css">
    <!-- GOOGLE FONTS -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
    <!-- ICONS -->
    <link rel="apple-touch-icon" sizes="76x76" href="../../assets/img/apple-icon.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../../assets/img/favicon.png">
</head>

<body>
<!-- WRAPPER -->
<div id="wrapper">
    <!-- NAVBAR -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="brand">
            <a href="../../index.html"><img src="../../assets/img/logo-KevenPotter.png" alt="KevenPotter Logo" class="img-responsive logo"></a>
        </div>
        <div class="container-fluid">
            <div class="navbar-btn">
                <button type="button" class="btn-toggle-fullwidth"><i class="lnr lnr-arrow-left-circle"></i></button>
            </div>
            <form class="navbar-form navbar-left">
                <div class="input-group">
                    <input type="text" value="" class="form-control" placeholder="搜索内容...">
                    <span class="input-group-btn"><button type="button" class="btn btn-primary">Go</button></span>
                </div>
            </form>
        </div>
    </nav>
    <!-- END NAVBAR -->
    <!-- LEFT SIDEBAR -->
    <div id="sidebar-nav" class="sidebar">
        <div class="sidebar-scroll">
            <nav>
                <ul class="nav">
                    <li><a href="../../index.html" class=""><i class="lnr lnr-home"></i> <span>首页</span></a></li>
                    <li>
                        <a href="#distributedPage" data-toggle="collapse" class="collapsed"><i class="lnr lnr-cloud"></i> <span>分布式</span> <i class="icon-submenu lnr lnr-chevron-left"></i></a>
                        <div id="distributedPage" class="collapse ">
                            <ul class="nav">
                                <li><a href="../distributedPage/distributed_overview.html" class="">分布式概述</a></li>
                                <li><a href="../distributedPage/zookeeper_overview.html" class="">ZooKeeper概述</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a id="design_patterns_page_button" href="#designPatternsPage" data-toggle="collapse" class="collapsed"><i class="lnr lnr-laptop"></i> <span>设计模式</span> <i class="icon-submenu lnr lnr-chevron-left"></i></a>
                        <div id="designPatternsPage" class="collapse ">
                            <ul class="nav">
                                <li><a href="../designPatternsPage/six_principles.html" class="">六大原则</a></li>
                                <li><a href="../designPatternsPage/singleton_pattern.html" class="">单例模式</a></li>
                                <li><a href="../designPatternsPage/factory_method_pattern.html" class="">工厂方法模式</a></li>
                                <li><a href="../designPatternsPage/abstract_factory_pattern.html" class="">抽象工厂模式</a></li>
                                <li><a href="../designPatternsPage/template_method_pattern.html" class="active">模板方法模式</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a href="#mysqlPage" data-toggle="collapse" class="collapsed"><i class="lnr lnr-database"></i> <span>数据库</span> <i class="icon-submenu lnr lnr-chevron-left"></i></a>
                        <div id="mysqlPage" class="collapse ">
                            <ul class="nav">
                                <li><a href="../mysqlPage/mysql-basic-knowledge.html" class="">基础知识</a></li>
                                <li><a href="../mysqlPage/mysql-sub-database_sub-table.html" class="">分库分表</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <!-- END LEFT SIDEBAR -->
    <!-- MAIN -->
    <div class="main">
        <!-- MAIN CONTENT -->
        <div class="main-content">
            <div class="container-fluid">
                <h3 id="template_method_pattern_definition_tips" class="page-title">模板方法模式</h3>
                <div class="row">
                    <div class="col-md-12">
                        <div class="panel">
                            <div class="panel-heading">
                                <h3 class="panel-title">模板方法模式通用模板</h3>
                                <div class="right">
                                    <button type="button" class="btn-toggle-collapse" title="向上折叠"><i class="lnr lnr-chevron-up"></i></button>
                                    <button type="button" class="btn-remove" title="关闭"><i class="lnr lnr-cross"></i></button>
                                </div>
                            </div>
                            <div class="panel-body">
                                <div id="general_template_for_template_method_pattern" style="height:600%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="panel">
                            <div class="panel-heading">
                                <h3 class="panel-title">模板方法模式通用类图</h3>
                                <div class="right">
                                    <button type="button" class="btn-toggle-collapse" title="向上折叠"><i class="lnr lnr-chevron-up"></i></button>
                                    <button type="button" class="btn-remove" title="关闭"><i class="lnr lnr-cross"></i></button>
                                </div>
                            </div>
                            <div id="template_method_pattern_generic_class_diagram_panel_body" class="panel-body">
                                <img id="template_method_pattern_generic_class_diagram" style="max-height: 100%; max-width: 100%;" src="../../assets/img/designPatterns/template_method_pattern_generic_class_diagram.png" alt="模板方法模式通用类图">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="panel">
                            <div class="panel-heading">
                                <h3 class="panel-title">模板方法模式的优缺点</h3>
                                <div class="right">
                                    <button type="button" class="btn-toggle-collapse" title="向上折叠"><i class="lnr lnr-chevron-up"></i></button>
                                    <button type="button" class="btn-remove" title="关闭"><i class="lnr lnr-cross"></i></button>
                                </div>
                            </div>
                            <div id="the_advantages_and_disadvantages_of_the_template_method_pattern_panel_body" class="panel-body">
                                <div id="the_advantages_and_disadvantages_of_the_template_method_pattern" style="height:500%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="panel">
                            <div class="panel-heading">
                                <div class="right">
                                    <button type="button" class="btn-toggle-collapse" title="向上折叠"><i class="lnr lnr-chevron-up"></i></button>
                                    <button type="button" class="btn-remove" title="关闭"><i class="lnr lnr-cross"></i></button>
                                </div>
                            </div>
                            <div class="panel">
                                <div id="template_method_pattern_usage_scenarios_panel_body" class="panel-body bold">
                                    <p class="note bold">抽象模板方法的种类（《设计模式之禅》-P93）</p>
                                    <ol>
                                        <li>基本方法：</li>
                                        基本方法也叫作基本操作，是由子类实现的方法，并且在模板方法被调用。抽象模板中的基本方法尽量设计为protected类型，符合迪米特法则，不需要暴露的属性或方法尽量不要设置为protected类型。实现类若非必要，尽量不要扩大父类中的访问权限。
                                        <li>模板方法：</li>
                                        可以有一个或几个，一般是一个具体的方法，也就是一个框架，实现对基本方法的调度，完成固定的逻辑。为了防止恶意的操作，一般模板方法都加上final关键字，不允许被覆写。
                                    </ol>
                                    <p class="note bold">模板方法模式使用场景（《设计模式之禅》-P95）</p>
                                    <ol>
                                        <li>多个子类有公有的方法，并且逻辑基本相同时；</li>
                                        <li>重要、复杂的算法，可以把核心算法设计为模板方法，周边的相关细节功能则由各个子类实现；</li>
                                        <li>重构时，模板方法模式是一个经常使用的模式，把相同的代码抽取到父类中，然后通过钩子函数（见“模板方法模式的扩展”）约束其行为。</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END MAIN CONTENT -->
    </div>
    <!-- END MAIN -->
    <div class="clearfix"></div>
    <footer>
        <div class="container-fluid">
            <p class="copyright">Copyright &copy; https://github.com/KevenPotter/KevenPotterInterview <a href="https://github.com/KevenPotter/KevenPotterInterview" target="_blank" title="KevenPotter">KevenPotter</a> - Collect from <a href="https://github.com/KevenPotter" title="Github" target="_blank">KevenPotter主页</a></p>
        </div>
    </footer>
</div>
<!-- END WRAPPER -->

<!-- 模板方法模式_抽象模板类-->
<div id="template_method_pattern_abstract_template" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">AbstractClass</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public abstract class AbstractClass {

    // 1.基本方法
    protected abstract void doSomething();
    // 2.基本方法
    protected abstract void doAnything();
    // 3.模板方法
    protected abstract void templateMethod() {
        /*
         * 调用基本方法，完成相关的逻辑
         */
         this.doAnything();
         this.doSomething();
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 模板方法模式_具体模板1-->
<div id="template_method_pattern_concrete_template_1" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">ConcreteClass1</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class ConcreteClass1 extends AbstractClass {

    // 实现基本方法
    protected void doAnything() {
        // 业务逻辑处理
    }

    protected void doSomething() {
        // 业务逻辑处理
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 模板方法模式_具体模板2-->
<div id="template_method_pattern_concrete_template_2" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">ConcreteClass2</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class ConcreteClass2 extends AbstractClass {

    // 实现基本方法
    protected void doAnything() {
        // 业务逻辑处理
    }

    protected void doSomething() {
        // 业务逻辑处理
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 模板方法模式_场景类-->
<div id="template_method_pattern_client" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">Client</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class Client {

    public static void main(String[] args) {
        AbstractClass class1 = new ConcreteClass1();
        AbstractClass class2 = new ConcreteClass2();
        // 调用模板方法
        class1.templateMethod();
        class2.templateMethod();
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 模板方法模式优点_封装不变部分，扩展可变部分 -->
<div id="template_method_mode_advantages_encapsulate_the_unchanged_part_expand_the_variable_part" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">封装不变部分，扩展可变部分</h3>
    </div>
    <div class="panel-body">
        <p>把认为是不变的部分的算法封装到父类实现，而可变部分的则可以通过继承来继续扩展。</p>
    </div>
</div>

<!-- 模板方法模式优点_提取公共部分代码，便于维护 -->
<div id="template_method_mode_advantages_extract_common_part_code_for_easy_maintenance" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">提取公共部分代码，便于维护</h3>
    </div>
    <div class="panel-body">
        <p>从书本示例中可以看出，如果我们不将公共方法抽取到父类中，任由散乱的代码发生，那么维护人员为了修正一个缺陷，需要到处查找类似的代码。</p>
    </div>
</div>

<!-- 模板方法模式优点_行为由父类控制，子类实现 -->
<div id="template_method_mode_advantages_the_behavior_is_controlled_by_the_parent_class_and_implemented_by_the_child_class" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">行为由父类控制，子类实现</h3>
    </div>
    <div class="panel-body">
        <p>基本方法是由子类实现的，因此子类可以通过扩展的方式增加相应的功能，符合开闭原则。</p>
    </div>
</div>

<!-- 模板方法模式缺点_不符合设计习惯，难于理解 -->
<div id="template_method_mode_disadvantages_not_in_line_with_design_habits_difficult_to_understand" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">不符合设计习惯，难于理解</h3>
    </div>
    <div class="panel-body">
        <p>按照我们的设计习惯，抽象类负责声明最抽象、最一般的事物属性和方法，实现类完成具体的事物属性和方法。但是模板方法模式却颠倒了，抽象类定义了部分抽象方法，由子类实现，子类执行的结果影响了父类的结果，也就是子类对父类产生了影响，这在复杂的项目中，会带来代码阅读的难度，而且也会让新手产生不适感。</p>
    </div>
</div>

<!-- CUSTOM JAVASCRIPT -->
<script type="text/javascript" src="../../assets/scripts/common-method.js"></script>
<script type="text/javascript" src="../../assets/scripts/base.js"></script>
<script type="text/javascript" src="../../assets/scripts/responseStatusCode.js"></script>
<script type="text/javascript" src="../../assets/scripts/designPatternsJs/template_method_pattern.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>

</html>
