<!doctype html>
<html lang="en">

<head>
    <title>分库分表</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <!-- Javascript -->
    <script type="text/javascript" src="../../assets/vendor/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/bootstrap/js/bootstrap-paginator.js"></script>
    <script type="text/javascript" src="../../assets/vendor/bootstrap-select/js/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/jquery-slimscroll/jquery.slimscroll.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/echarts/echarts.min.js"></script>
    <script type="text/javascript" src="../../assets/vendor/echarts/theme/macarons.js"></script>
    <script type="text/javascript" src="../../assets/vendor/layer/layer.js"></script>
    <script type="text/javascript" src="../../assets/vendor/laydate/laydate.js"></script>
    <script type="text/javascript" src="../../assets/vendor/blowup/blowup.js"></script>
    <script type="text/javascript" src="../../assets/scripts/klorofil-common.js"></script>
    <script type="text/javascript" src="../../assets/vendor/ui-choose/js/ui-choose.js"></script>
    <script type="text/javascript" src="../../assets/vendor/highlight/highlight.pack.js"></script>
    <!-- VENDOR CSS -->
    <link rel="stylesheet" href="../../assets/vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assets/vendor/bootstrap-select/css/bootstrap-select.min.css">
    <link rel="stylesheet" href="../../assets/vendor/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../assets/vendor/linearicons/style.css">
    <link rel="stylesheet" href="../../assets/vendor/ui-choose/css/ui-choose.css">
    <link rel="stylesheet" href="../../assets/vendor/highlight/styles/solarized-light.css">
    <!-- MAIN CSS -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <!-- CUSTOMIZE CSS -->
    <link rel="stylesheet" href="../../assets/css/roundButton.css">
    <!-- FOR DEMO PURPOSES ONLY. You should remove this in your project -->
    <link rel="stylesheet" href="../../assets/css/demo.css">
    <!-- GOOGLE FONTS -->
    <link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700" rel="stylesheet">
    <!-- ICONS -->
    <link rel="apple-touch-icon" sizes="76x76" href="../../assets/img/apple-icon.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../../assets/img/favicon.png">
</head>

<body>
<!-- WRAPPER -->
<div id="wrapper">
    <!-- NAVBAR -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="brand">
            <a href="../../index.html"><img src="../../assets/img/logo-KevenPotter.png" alt="KevenPotter Logo" class="img-responsive logo"></a>
        </div>
        <div class="container-fluid">
            <div class="navbar-btn">
                <button type="button" class="btn-toggle-fullwidth"><i class="lnr lnr-arrow-left-circle"></i></button>
            </div>
            <form class="navbar-form navbar-left">
                <div class="input-group">
                    <input type="text" value="" class="form-control" placeholder="搜索内容...">
                    <span class="input-group-btn"><button type="button" class="btn btn-primary">Go</button></span>
                </div>
            </form>
        </div>
    </nav>
    <!-- END NAVBAR -->
    <!-- LEFT SIDEBAR -->
    <div id="sidebar-nav" class="sidebar">
        <div class="sidebar-scroll">
            <nav>
                <ul class="nav">
                    <li><a href="../../index.html" class=""><i class="lnr lnr-home"></i> <span>首页</span></a></li>
                    <li>
                        <a href="#distributedPage" data-toggle="collapse" class="collapsed"><i class="lnr lnr-cloud"></i> <span>分布式</span> <i class="icon-submenu lnr lnr-chevron-left"></i></a>
                        <div id="distributedPage" class="collapse ">
                            <ul class="nav">
                                <li><a href="../distributedPage/distributed_overview.html" class="">分布式概述</a></li>
                                <li><a href="../distributedPage/zookeeper_overview.html" class="">ZooKeeper概述</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a id="design_patterns_page_button" href="#designPatternsPage" data-toggle="collapse" class="collapsed"><i class="lnr lnr-laptop"></i> <span>设计模式</span> <i class="icon-submenu lnr lnr-chevron-left"></i></a>
                        <div id="designPatternsPage" class="collapse ">
                            <ul class="nav">
                                <li><a href="../designPatternsPage/six_principles.html" class="">六大原则</a></li>
                                <li><a href="../designPatternsPage/singleton_pattern.html" class="">单例模式</a></li>
                                <li><a href="../designPatternsPage/factory_method_pattern.html" class="">工厂方法模式</a></li>
                                <li><a href="../designPatternsPage/abstract_factory_pattern.html" class="">抽象工厂模式</a></li>
                                <li><a href="../designPatternsPage/template_method_pattern.html" class="">模板方法模式</a></li>
                            </ul>
                        </div>
                    </li>
                    <li>
                        <a id="database_page_button" href="#databasePage" data-toggle="collapse" class="collapsed"><i class="lnr lnr-database"></i> <span>数据库</span> <i class="icon-submenu lnr lnr-chevron-left"></i></a>
                        <div id="databasePage" class="collapse ">
                            <ul class="nav">
                                <li><a href="mysql-basic-knowledge.html" class="">基础知识</a></li>
                                <li>
                                    <a href="#advanced_knowledge" data-toggle="collapse" class="collapsed"><span>进阶知识</span> <i class="icon-submenu lnr lnr-chevron-left"></i></a>
                                    <div id="advanced_knowledge" class="collapse ">
                                        <ul class="nav">
                                            <li><a href="mysql-advanced-knowledge/mysql-advanced-knowledge-index.html" class=""><i class="lnr"></i>索引</a></li>
                                            <li><a href="mysql-advanced-knowledge/mysql-advanced-knowledge-stored-procedure.html" class=""><i class="lnr"></i>存储过程</a></li>
                                        </ul>
                                    </div>
                                </li>
                                <li><a href="mysql-sub-database_sub-table.html" class="active">分库分表</a></li>
                            </ul>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </div>
    <!-- END LEFT SIDEBAR -->
    <!-- MAIN -->
    <div class="main">
        <!-- MAIN CONTENT -->
        <div class="main-content">
            <div class="container-fluid">
                <h3 id="abstract_factory_pattern_definition_tips" class="page-title">抽象工厂模式</h3>
                <div class="row">
                    <div class="col-md-12">
                        <div class="panel">
                            <div class="panel-heading">
                                <h3 class="panel-title">抽象工厂模式通用模板</h3>
                                <div class="right">
                                    <button type="button" class="btn-toggle-collapse" title="向上折叠"><i class="lnr lnr-chevron-up"></i></button>
                                    <button type="button" class="btn-remove" title="关闭"><i class="lnr lnr-cross"></i></button>
                                </div>
                            </div>
                            <div class="panel-body">
                                <div id="general_template_for_abstract_factory_pattern" style="height:600%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="panel">
                            <div class="panel-heading">
                                <h3 class="panel-title">抽象工厂模式通用类图</h3>
                                <div class="right">
                                    <button type="button" class="btn-toggle-collapse" title="向上折叠"><i class="lnr lnr-chevron-up"></i></button>
                                    <button type="button" class="btn-remove" title="关闭"><i class="lnr lnr-cross"></i></button>
                                </div>
                            </div>
                            <div id="abstract_factory_pattern_generic_class_diagram_panel_body" class="panel-body">
                                <img id="abstract_factory_pattern_generic_class_diagram" style="max-height: 100%; max-width: 100%;" src="../../assets/img/designPatterns/abstract_factory_pattern_generic_class_diagram.png" alt="抽象工厂模式通用类图">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="panel">
                            <div class="panel-heading">
                                <h3 class="panel-title">抽象工厂模式的优缺点</h3>
                                <div class="right">
                                    <button type="button" class="btn-toggle-collapse" title="向上折叠"><i class="lnr lnr-chevron-up"></i></button>
                                    <button type="button" class="btn-remove" title="关闭"><i class="lnr lnr-cross"></i></button>
                                </div>
                            </div>
                            <div id="the_advantages_and_disadvantages_of_the_abstract_factory_pattern_panel_body" class="panel-body">
                                <div id="the_advantages_and_disadvantages_of_the_abstract_factory_pattern" style="height:500%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="panel">
                            <div class="panel-heading">
                                <div class="right">
                                    <button type="button" class="btn-toggle-collapse" title="向上折叠"><i class="lnr lnr-chevron-up"></i></button>
                                    <button type="button" class="btn-remove" title="关闭"><i class="lnr lnr-cross"></i></button>
                                </div>
                            </div>
                            <div class="panel">
                                <div class="panel-body bold">
                                    <p class="note bold">抽象工厂模式使用场景（《设计模式之禅》-P86）</p>
                                    <p>抽象工厂模式的使用场景定义非常简单：一个对象族（或是一组没有任何关系的对象）都由相同的约束，则可以使用抽象工厂模式。什么意思呢？例如一个文本编辑器和一个图片处理器，都是软件实体，但是*nix下的文本编辑器和Windows下的文本编辑器虽然功能和界面都相同，但是代码实现是不同的，图片处理器也有类似情况。也就是具有了共同的约束条件：操作系统类型。于是我们可以使用抽象工厂模式，产生不同操作系统下的编辑器和图片处理器。</p>
                                    <p class="note bold">抽象工厂模式的注意事项（《设计模式之禅》-P86）</p>
                                    <p>在抽象工厂模式的缺点中，我们提到抽象工厂模式的产品族扩展比较困难，但是一定要清楚，是产品族扩展困难，而不是产品等级。在该模式下，产品等级是非常容易扩展的，增加一个产品等级，只要增加一个工厂类负责新增加出来的产品生产任务即可。也就是说横向扩展容易，纵向扩展困难。抽象工厂模式是符合开闭原则的。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- END MAIN CONTENT -->
    </div>
    <!-- END MAIN -->
    <div class="clearfix"></div>
    <footer>
        <div class="container-fluid">
            <p class="copyright">Copyright &copy; https://github.com/KevenPotter/KevenPotterInterview <a href="https://github.com/KevenPotter/KevenPotterInterview" target="_blank" title="KevenPotter">KevenPotter</a> - Collect from <a href="https://github.com/KevenPotter" title="Github"
                                                                                                                                                                                                                                          target="_blank">KevenPotter主页</a></p>
        </div>
    </footer>
</div>
<!-- END WRAPPER -->

<!-- 抽象工厂模式_抽象产品A-->
<div id="abstract_factory_pattern_abstract_product_A" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">AbstractProductA</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public abstract class AbstractProductA {

    // 1.每个产品共有的方法
    public void shareMethod(){
    }
    // 2.每个产品相同方法，不同实现
    public abstract void doSomething();
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式_具体产品A1-->
<div id="abstract_factory_pattern_concrete_product_A1" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">ProductA1</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class ProductA1 extends AbstractProductA {

    public void doSomething() {
        System.out.println("产品A1的实现方法");
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式_具体产品A2-->
<div id="abstract_factory_pattern_concrete_product_A2" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">ProductA2</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class ProductA2 extends AbstractProductA {

    public void doSomething() {
        System.out.println("产品A2的实现方法");
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式_抽象产品B-->
<div id="abstract_factory_pattern_abstract_product_B" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">AbstractProductB</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public abstract class AbstractProductB {

    // 1.每个产品共有的方法
    public void shareMethod(){
    }
    // 2.每个产品相同方法，不同实现
    public abstract void doSomething();
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式_具体产品B1-->
<div id="abstract_factory_pattern_concrete_product_B1" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">ProductB1</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class ProductB1 extends AbstractProductB {

    public void doSomething() {
        System.out.println("产品B1的实现方法");
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式_具体产品B2-->
<div id="abstract_factory_pattern_concrete_product_B2" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">ProductB2</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class ProductB2 extends AbstractProductB {

    public void doSomething() {
        System.out.println("产品B2的实现方法");
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式_抽象工厂-->
<div id="abstract_factory_pattern_abstract_creator" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">AbstractCreator</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public abstract class AbstractCreator {

    // 创建A产品家族
    public abstract AbstractProductA createProductA();
    // 创建B产品家族
    public abstract AbstractProductB createProductB();
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式_具体工厂1-->
<div id="abstract_factory_pattern_concrete_creator1" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">Creator1</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class Creator1 extends AbstractCreator {

    // 只生产产品等级为1的A产品
    public AbstractProductA createProductA() {
        return new ProductA1();
    }

    // 只生产产品等级为1的B产品
    public AbstractProductB createProductB() {
        return new ProductB1();
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式_具体工厂2-->
<div id="abstract_factory_pattern_concrete_creator2" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">Creator2</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class Creator2 extends AbstractCreator {

    // 只生产产品等级为2的A产品
    public AbstractProductA createProductA() {
        return new ProductA2();
    }

    // 只生产产品等级为2的B产品
    public AbstractProductB createProductB() {
        return new ProductB2();
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式_场景类-->
<div id="abstract_factory_pattern_client" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">Client</h3>
    </div>
    <div class="panel-body">
        <pre>
            <code class="java">
public class Client {

    public static void main(String[] args) {
        // 定义出两个工厂
        AbstractCreator creator1 = new Creator1();
        AbstractCreator creator2 = new Creator2();
        // 产生A1对象
        AbstractProductA a1 = creator1.createProductA();
        // 产生A2对象
        AbstractProductA a2 = creator2.createProductA();
        // 产生B1对象
        AbstractProductB b1 = creator1.createProductB();
        // 产生B2对象
        AbstractProductB b2 = creator2.createProductB();
        // 继续业务处理
    }
}
            </code>
        </pre>
    </div>
</div>

<!-- 抽象工厂模式优点_良好的封装性 -->
<div id="abstract_factory_mode_advantages_good_encapsulation" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">良好的封装性</h3>
    </div>
    <div class="panel-body">
        <p>封装性，每个产品的实现类不是高层模块要关心的，它要关心的是什么？是接口，是抽象，它不关心对象是如何创建出来的，这由谁负责呢？工厂类，只要知道工厂类是谁，我们就能创建出一个需要的对象，省时省力，优秀设计就应该如此。</p>
    </div>
</div>

<!-- 抽象工厂模式优点_产品族内的约束为非公开状态 -->
<div id="abstract_factory_mode_advantages_the_constraints_within_the_product_family_are_private" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">产品族内的约束为非公开状态</h3>
    </div>
    <div class="panel-body">
        <p>产品族内的约束为非公开状态。例如生产男女比例问题上，每生产一个女性，就同时生产出1.2个男性，这样的生产过程对调用工厂类的高层模块来说是透明的，它不需要知道这个约束，具体的产品族内的约束实在工厂内实现的。</p>
    </div>
</div>

<!-- 抽象工厂模式缺点_扩展困难 -->
<div id="abstract_factory_mode_disadvantages_difficult_to_expand" class="panel" style="display: none">
    <div class="panel-heading">
        <h3 class="panel-title">扩展困难</h3>
    </div>
    <div class="panel-body">
        <p>抽象工厂模式的最大缺点就是产品族扩展非常困难，为什么这么说呢？我们以通用代码为例，如果要增加一个产品C，也就是说产品家族由原来的2个增加到3个，看看我们的程序有多大改动吧！</p>
        <p>抽象类AbstractCreator要增加一个方法createProductC()，然后两个实现类都要修改，想想看，这严重违反了开闭原则，而且我们一直说明抽象类和接口是一个契约。改变契约，所有与契约有关系的代码都要修改，那么这段代码叫什么？叫“有毒代码”，——只要与这段代码有关系，就可能产生侵害的危险！</p>
    </div>
</div>

<!-- CUSTOM JAVASCRIPT -->
<script type="text/javascript" src="../../assets/scripts/common-method.js"></script>
<script type="text/javascript" src="../../assets/scripts/base.js"></script>
<script type="text/javascript" src="../../assets/scripts/responseStatusCode.js"></script>
<script type="text/javascript" src="../../assets/scripts/mysql/sub-database_sub-table.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>

</html>
